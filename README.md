TestTaskElma
=====================
Серверное приложение написаное на Go, описания задания ниже. 
Проект на Go использует [модульную](https://github.com/golang/go/wiki/Modules) структуру для загрузки зависимостей.

Серверная часть
***

Операции получения процента загруки ЦП реализованы для ОП Linux. В windows это работать не будет.
Сервиная часть разделена на 3 части:
1. Веб-сервер для управление поступившими запросами.
2. Api для получения сессии авторизации и выхода из сессии.
3. WebSocket подключения, одно для подключения клиента. И ещё одно для работы со списком запросов.


*Web server:*

Страница управление запросами и клиент написаны с ипользванием [vue.js](https://vuejs.org/) Для формы авторизации [jquery 3.3](https://jquery.com/).

Url  | Описание
---|---
/ | основаная страница сервера, если пользователь авторизован то переходит на страницу упраления запросов. Иначе будет отображена форма авторизации.
/client | веб клиент для подключения к серверу. Также можно открывать: server/http_files/client.html в браузере, и тоже будет работать:)

*Api:*

Url | Описание
---|---
/login | Авторизация, отправляем логин и пароль POST запросом для атворизации(переменные: login, pass). Логин: admin Пароль: admin
/logout | Разлогинится.

*Websocket*

Url | Описание
---|---
/st_cpu | Отправить ключ, и уже после одобрение в админке ключа можно подключиться и получать загрузку CPU.
/ws_list | Подключение для работы со списком запросов. Необходима авторизация.

### Описание работы клиента который отправляет запрос с ключом:

1. Ввод адреса для подключения, тут нужно вводить адрес для подключения по websocket.
2. Далее клиент отправляет сгенерировный ключ, сервер его регистрирует.
3. В зависимости от того что решил администратор сервера, при следующем подключении будет или полноценное подключение и получения данных о загрузки ЦП сервера либо бан:(

Запуск докера
-----------------------------------
Как установить и запустить Docker: 
 1. [Установка Docker-CE (ubuntu)](https://docs.docker.com/install/linux/docker-ce/ubuntu/)
 2. [Установка Docker compose](https://docs.docker.com/compose/install/)
 3. В папке `docker` запустить: `sudo docker-compose up`

Описание задания
---
Написать сервер и клиента со следующим функционалом:
1. При запуске клиента ему передаётся адрес сервера. Клиент формирует уникальный ключ и пытается подключиться с ним к серверу.
2. Сервер имеет простой web-интерфейс, закрытый паролем.
3. В интерфейсе сервера можно посмотреть все запросы от клиентов и разрешить или отклонить запрос.
4. Если запрос принят, то секретный ключ клиента сохраняется в список разрешённых и клиент может поднять web-сокет для обмена состоянием с сервером.
5. Если запрос отклонён, то секретный ключ клиента сохраняется в список запрещённых и клиент больше не отображается списке запросов.
6. Клиент должен уметь переживать перезагрузку.
7. Сервер также должен показывать список разрешённых клиентов.
8. В информации о клиенте должны быть имя и IP адрес машины клиента.
9. У клиентов, подключенных по сокету необходимо показывать загрузку процессора.

Примечание:
В данном случае речь о взаимодействии сервисов, поэтому описываемое взаимодействие "клиент-сервис" по сути является взаимодействием "сервис-сервис"